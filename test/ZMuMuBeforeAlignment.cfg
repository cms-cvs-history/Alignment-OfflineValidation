process before =
{
  include "SimGeneral/HepPDTESSource/data/pythiapdt.cfi"

  service = MessageLogger
  {
    untracked vstring destinations = {'cout'}

    untracked PSet cout = { untracked string threshold = 'WARNING' }
  }

  source = PoolSource
  { 
    untracked vstring fileNames = {"/store/trkalign/MC/AlCaReco/2007/TkAlZMuMu/DrellYan_mumu_40-CMSSW_1_5_4-RelVal-1186655029-Frontier-CMSSW_1_6_0_pre9/0000.root"}
  }

  untracked PSet maxEvents = { untracked int32 input = 1000 }

  module muons = ChargedCandidateProducer
  {
    InputTag src = ALCARECOTkAlZMuMu
    string particleType = "mu+"
  }

  module ZToMuMu = CandShallowCloneCombiner
  {
    string decay = "muons@+ muons@-"
    string cut = "70.0 < mass < 110.0"
  }

  module out = PoolOutputModule
  {
    untracked string fileName = "CSA07/ZMuMuBeforeAlignment.root"

    untracked vstring outputCommands =
    {
      "drop *",
      "keep *_ALCARECOTkAlZMuMu_*_*",
      "keep recoCandidatesOwned_*_*_*"
    }
  }

  path p = { muons, ZToMuMu }

  endpath ep = { out }
}
